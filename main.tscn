[gd_scene load_steps=18 format=3 uid="uid://cuicl1alqbct3"]

[ext_resource type="Script" path="res://main.gd" id="1_eks3d"]
[ext_resource type="Texture2D" uid="uid://cfnee42a60ou6" path="res://assets/board.png" id="2_ff65i"]
[ext_resource type="Script" path="res://sky.gd" id="2_iuh4t"]
[ext_resource type="Texture2D" uid="uid://b72boic5wqc2x" path="res://assets/sky_space.png" id="2_teo7e"]
[ext_resource type="Texture2D" uid="uid://dxjyhf8br5g6w" path="res://assets/sky_day.png" id="2_yd25x"]
[ext_resource type="Texture2D" uid="uid://cm0mimc60tet" path="res://assets/sky_night.png" id="3_hrorm"]
[ext_resource type="Texture2D" uid="uid://fdooebg583my" path="res://assets/grid.png" id="3_q3otb"]
[ext_resource type="Texture2D" uid="uid://cqkf55e170y6u" path="res://assets/sky_evening.png" id="4_y164g"]
[ext_resource type="Script" path="res://startupinfo.gd" id="5_162x5"]
[ext_resource type="Script" path="res://nextlevelinfo.gd" id="5_ct2ys"]
[ext_resource type="Script" path="res://deadinfo.gd" id="5_teiwi"]
[ext_resource type="Texture2D" uid="uid://cay5ftkmugouq" path="res://assets/sky_morning.png" id="6_7fbtx"]
[ext_resource type="PackedScene" uid="uid://xe84in6ej3m7" path="res://pellet.tscn" id="6_dvu1o"]
[ext_resource type="PackedScene" uid="uid://de227doiyv2qb" path="res://snake.tscn" id="7_ertux"]
[ext_resource type="PackedScene" uid="uid://bgjm1nfpl3dji" path="res://moth.tscn" id="14_iufdd"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ji84y"]
size = Vector2(4.5, 166)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v7t8t"]
size = Vector2(7.5, 7)

[node name="Main" type="Node2D"]
script = ExtResource("1_eks3d")

[node name="UI" type="Node" parent="."]

[node name="ScoreText" type="Label" parent="UI"]
offset_left = 15.0
offset_top = 8.0
offset_right = 72.0
offset_bottom = 24.0
theme_override_colors/font_color = Color(0.839216, 0.94902, 0.392157, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
text = "Score:"
horizontal_alignment = 1

[node name="Score" type="Label" parent="UI"]
offset_left = 15.0
offset_top = 19.0
offset_right = 72.0
offset_bottom = 35.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
text = "0"
horizontal_alignment = 1

[node name="UntilNext" type="Label" parent="UI"]
offset_left = 15.0
offset_top = 34.0
offset_right = 72.0
offset_bottom = 50.0
theme_override_colors/font_color = Color(0.839216, 0.94902, 0.392157, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
text = "Next:"
horizontal_alignment = 1

[node name="Time" type="Label" parent="UI"]
offset_left = 15.0
offset_top = 45.0
offset_right = 72.0
offset_bottom = 61.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 3
text = "15"
horizontal_alignment = 1

[node name="LevelLabel" type="RichTextLabel" parent="UI"]
offset_left = 243.0
offset_top = 3.0
offset_right = 320.0
offset_bottom = 16.0
bbcode_enabled = true
text = "[center]Level 1[/center]"

[node name="Sky" type="Node2D" parent="."]
script = ExtResource("2_iuh4t")

[node name="SkyMidnight" type="Sprite2D" parent="Sky"]
texture = ExtResource("2_teo7e")
centered = false

[node name="SkyNight" type="Sprite2D" parent="Sky"]
texture = ExtResource("3_hrorm")
centered = false

[node name="SkyEvening" type="Sprite2D" parent="Sky"]
texture = ExtResource("4_y164g")
centered = false

[node name="SkyDay" type="Sprite2D" parent="Sky"]
texture = ExtResource("2_yd25x")
centered = false

[node name="SkyMorning" type="Sprite2D" parent="Sky"]
texture = ExtResource("6_7fbtx")
centered = false

[node name="Board" type="Sprite2D" parent="."]
texture = ExtResource("2_ff65i")
centered = false

[node name="Board Walls" type="StaticBody2D" parent="Board"]
visible = false
collision_layer = 32
collision_mask = 0

[node name="Wall" type="CollisionShape2D" parent="Board/Board Walls"]
position = Vector2(77.75, 90)
shape = SubResource("RectangleShape2D_ji84y")

[node name="Wall2" type="CollisionPolygon2D" parent="Board/Board Walls"]
polygon = PackedVector2Array(80, 7, 80, 10, 240, 10, 240, 170, 80, 170, 80, 173, 243, 173, 243, 7)

[node name="Ant Walls" type="StaticBody2D" parent="Board"]
collision_layer = 128
collision_mask = 0

[node name="TL" type="CollisionShape2D" parent="Board/Ant Walls"]
position = Vector2(77, 7)
shape = SubResource("RectangleShape2D_v7t8t")

[node name="TR" type="CollisionShape2D" parent="Board/Ant Walls"]
position = Vector2(243, 7)
shape = SubResource("RectangleShape2D_v7t8t")

[node name="BR" type="CollisionShape2D" parent="Board/Ant Walls"]
position = Vector2(243, 173)
shape = SubResource("RectangleShape2D_v7t8t")

[node name="BL" type="CollisionShape2D" parent="Board/Ant Walls"]
position = Vector2(77, 173)
shape = SubResource("RectangleShape2D_v7t8t")

[node name="Grid" type="Sprite2D" parent="."]
position = Vector2(80, 10)
texture = ExtResource("3_q3otb")
centered = false

[node name="StartupInfo" type="Node2D" parent="."]
z_index = 4000
script = ExtResource("5_162x5")

[node name="Title" type="Label" parent="StartupInfo"]
offset_top = 16.0
offset_right = 320.0
offset_bottom = 45.0
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 9
theme_override_font_sizes/font_size = 32
text = "PELLET"
horizontal_alignment = 1

[node name="Controls" type="Label" parent="StartupInfo"]
offset_top = 40.0
offset_right = 320.0
offset_bottom = 56.0
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 4
text = "WASD - Move"
horizontal_alignment = 1

[node name="Avoid" type="Label" parent="StartupInfo"]
offset_top = 52.0
offset_right = 320.0
offset_bottom = 68.0
theme_override_colors/font_color = Color(1, 0.145098, 0.137255, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 4
text = "Avoid Snek!!!"
horizontal_alignment = 1

[node name="HighScore" type="Label" parent="StartupInfo"]
visible = false
offset_top = 118.0
offset_right = 320.0
offset_bottom = 134.0
theme_override_colors/font_color = Color(1, 0.839216, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 4
text = "High Score: 9999"
horizontal_alignment = 1

[node name="DeadInfo" type="Node2D" parent="."]
modulate = Color(1, 1, 1, 0)
z_index = 4000
script = ExtResource("5_teiwi")

[node name="DeadFilter" type="ColorRect" parent="DeadInfo"]
offset_right = 320.0
offset_bottom = 180.0
color = Color(0, 0, 0, 0.623529)

[node name="OhNo" type="RichTextLabel" parent="DeadInfo"]
offset_top = 14.0
offset_right = 320.0
offset_bottom = 30.0
bbcode_enabled = true
text = "[center]Oh no, you are [color=red]dead[/color]![/center]"

[node name="Time" type="RichTextLabel" parent="DeadInfo"]
offset_top = 32.0
offset_right = 320.0
offset_bottom = 45.0
bbcode_enabled = true
text = "[center]You lasted [color=lightblue]1000[/color] seconds.[/center]"

[node name="Score" type="RichTextLabel" parent="DeadInfo"]
offset_top = 43.0
offset_right = 320.0
offset_bottom = 56.0
bbcode_enabled = true
text = "[center]And earned [color=green]1000[/color] points![/center]"

[node name="Commentary" type="RichTextLabel" parent="DeadInfo"]
offset_left = -1.0
offset_top = 58.0
offset_right = 319.0
offset_bottom = 75.0
bbcode_enabled = true
text = "[center]Not bad... but you can do better.[/center]"

[node name="Reset" type="RichTextLabel" parent="DeadInfo"]
offset_left = 1.0
offset_top = 90.0
offset_right = 320.0
offset_bottom = 130.0
bbcode_enabled = true
text = "[center]Press [color=yellow]Spacebar[/color] to try again.[/center]"

[node name="Tip" type="RichTextLabel" parent="DeadInfo"]
offset_left = 2.0
offset_top = 114.0
offset_right = 320.0
offset_bottom = 172.0
bbcode_enabled = true
text = "[center]- Tip -
You get some points for surviving.
But you get more for making the
snake eat other enemies.[/center]"

[node name="NextLevelInfo" type="Node2D" parent="."]
modulate = Color(1, 1, 1, 0)
z_index = 3999
position = Vector2(127, 9)
script = ExtResource("5_ct2ys")

[node name="LevelUp" type="Label" parent="NextLevelInfo"]
offset_left = -127.0
offset_top = 52.0
offset_right = -50.0
offset_bottom = 76.0
theme_override_colors/font_shadow_color = Color(0.0705882, 0.298039, 0.0156863, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 4
theme_override_constants/shadow_outline_size = 3
text = "Level Up!"
horizontal_alignment = 1
clip_text = true

[node name="Tip" type="Label" parent="NextLevelInfo"]
offset_left = -127.0
offset_top = 67.0
offset_right = -50.0
offset_bottom = 174.0
theme_override_colors/font_color = Color(1, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_constants/outline_size = 4
text = "Avoid Beetle Bullets!"
horizontal_alignment = 1
autowrap_mode = 2

[node name="Timer" type="Timer" parent="NextLevelInfo"]
wait_time = 3.0
one_shot = true

[node name="Pellet" parent="." instance=ExtResource("6_dvu1o")]
z_index = 1200
position = Vector2(215, 95)

[node name="Bullets" type="Node2D" parent="."]
z_index = 1500

[node name="Bugs" type="Node2D" parent="."]
z_index = 1600

[node name="Moth" parent="Bugs" instance=ExtResource("14_iufdd")]
position = Vector2(165, 112)

[node name="Snakes" type="Node2D" parent="."]

[node name="Snake" parent="Snakes" instance=ExtResource("7_ertux")]
position = Vector2(96, 95)

[connection signal="timeout" from="NextLevelInfo/Timer" to="NextLevelInfo" method="_on_timer_timeout"]
[connection signal="dead" from="Pellet" to="." method="_on_pellet_dead"]
[connection signal="moved" from="Pellet" to="." method="_on_pellet_moved"]
[connection signal="ate_bug" from="Snakes/Snake" to="." method="_on_snake_ate_bug"]
